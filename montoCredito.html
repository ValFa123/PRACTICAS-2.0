<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>replit</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
</head>

<body>

   <div class="container">
        <form action="" method="post" name="MiFormulario">
            <label for="montocredito">Monto del crédito:</label>
            <input id ="montocredito" type="text" class="form-control">
            <label for="tasainteres">Tasa de interes (Anual):</label>
            <input id="tasainteres" type="text" name="tasainteres" id="tasainte" class="form-control">
            <label for="Numeropagos">Números de pagos (mensuales):</label>
            <input id="numeropagos" type="text" name="numeropagos" id="numpagos" class="form-control">
            <input type="button" value="calcular" onclick="calculaMontodeCredito ()" class="btn btn-outline-warning">    
        
         </form>
         <p id="vt"><strong>Valor total: </strong></p>
         <p id="vm"><strong>Valor mensual: </strong></p>
         <table class="table">
            <thead>
              <tr>
                <th>Mes</th>
                <th>Valor</th>
                <th>Valor Total</th>
                <th>Capital</th>
                <th>Interes</th>
                <th>Total</th>
              </tr>
            </thead>
            <tbody id="tablita">
             
            </tbody>
         </table>
    </div>
<script>
  const buildFila = (mes, valor, valortotal, capital, interes, total) => {
    return `<tr>
        <td>${mes}</td>
        <td>${valor}</td>
        <td>${valortotal}</td>
        <td>${capital}</td>
        <td>${interes}</td>
        <td>${total}</td>
        </tr>`;
}

function calculaMontodeCredito (){
    let moncredito = Number (document.MiFormulario.montocredito.value);
    let tasaInteresAnu = Number(document.MiFormulario.tasainteres.value);
    let pagosmen = Number(document.MiFormulario.numeropagos.value);
    let capital = moncredito / pagosmen
    let valortasaInteresmen = capital * tasaInteresAnu / 100
    let valortasainteresAnu = valortasaInteresmen * pagosmen
    let valorTotal = moncredito * (tasaInteresAnu/100) + moncredito
    let valorPagosMen = valorTotal / pagosmen
    tabla = "";
    tablatotales = "";
    const valormontocredito = moncredito
    const valorTotalInteres = valortasainteresAnu
    const valorTotalPagosme = valorTotal
    document.getElementById("vt").innerHTML = `<strong>Valor total es:</strong> ${valorTotal}`;
    document.getElementById("vm").innerHTML = `<strong>Valor total pagos mensuales:</strong> ${valorPagosMen}`
    for (let i = 1; i<=pagosmen; i++){          

     tabla += buildFila (i, moncredito, valorTotal,capital, valortasaInteresmen, valorPagosMen);
      moncredito -= capital
      valorTotal -= valorPagosMen
    }
   
    document.getElementById("tablita").innerHTML = tabla ;
   
}


montodecredito()
</script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
  
  <script src="https://replit.com/public/js/replit-badge-v2.js" theme="dark" position="bottom-right"></script>
  <script src="script.js"></script>
</body>

</html>